import {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
} from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, HotelAddress, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with place name, place details, place image url, Geo Coordinates, ticket Pricing, rating, Time travel each of the locations for 3 days, with each day plan with best time to visit in JSON Format" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "Okay, here's a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and details, all in JSON format.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n     \"budget\": \"Cheap\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"60-120 USD per night\",\n      \"hotelImageURL\": \"https://example.com/circuscircus.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.1442, \"longitude\": -115.1697},\n      \"rating\": 3.8,\n      \"description\": \"Budget-friendly hotel with a fun, carnival theme, featuring a free circus acts, a large pool area and the Adventuredome theme park.\"\n    },\n     {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"70-130 USD per night\",\n       \"hotelImageURL\": \"https://example.com/excalibur.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.0989, \"longitude\": -115.1741},\n       \"rating\": 4.0,\n      \"description\": \"A castle-themed hotel offering a variety of dining and entertainment options and a pool area with slides.\"\n    },\n    {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"50-110 USD per night\",\n       \"hotelImageURL\": \"https://example.com/oyo.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.1015, \"longitude\": -115.1703},\n      \"rating\": 3.7,\n       \"description\": \"Budget-friendly hotel with a casino, pool, and several dining options. Close to the Las Vegas Strip.\"\n    },\n        {\n      \"hotelName\": \"Tuscany Suites & Casino\",\n      \"hotelAddress\": \"255 E Flamingo Rd, Las Vegas, NV 89169\",\n      \"price\": \"80-150 USD per night\",\n      \"hotelImageURL\": \"https://example.com/tuscany.jpg\",\n      \"geoCoordinates\": {\"latitude\": 36.1156, \"longitude\": -115.1579},\n      \"rating\": 4.2,\n        \"description\": \"Offers a quieter experience just off the Strip, featuring spacious suites, a pool, and multiple dining options.\"\n    }\n\n  ],\n  \"itinerary\": {\n    \"day1\": {\n       \"bestTimeToVisit\": \"Morning and Evening\",\n      \"theme\": \"Exploring the Strip & Free Attractions\",\n      \"activities\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"Beautiful floral displays that change seasonally, free to enter.\",\n           \"placeImageURL\": \"https://example.com/bellagio_gardens.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1128, \"longitude\": -115.1752},\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"travelTime\": \"10-15 minutes (walking, depending on hotel location)\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n           \"placeDetails\": \"Iconic water show set to music, free to watch. Show schedule varies, check online.\",\n             \"placeImageURL\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geoCoordinates\": {\"latitude\": 36.1127, \"longitude\": -115.1743},\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n            \"travelTime\": \"Immediately adjacent to Conservatory\"\n        },\n        {\n            \"placeName\": \"The LINQ Promenade\",\n             \"placeDetails\": \"Outdoor shopping and entertainment area, free to walk around. Includes many shops, restaurants, and the High Roller observation wheel (fee for the wheel).\",\n              \"placeImageURL\": \"https://example.com/linq_promenade.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1175, \"longitude\": -115.1704},\n            \"ticketPricing\": \"Free (fees for some attractions)\",\n            \"rating\": 4.4,\n            \"travelTime\": \"10 minutes walking\"\n\n        },\n          {\n            \"placeName\": \"Free Shows at Fremont Street Experience\",\n             \"placeDetails\": \"Downtown Las Vegas covered pedestrian mall with light shows on a giant screen, free.\",\n             \"placeImageURL\": \"https://example.com/fremont_street.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1701, \"longitude\": -115.1400},\n             \"ticketPricing\": \"Free\",\n             \"rating\": 4.5,\n             \"travelTime\": \"20-30 minutes (driving or bus)\"\n          }\n      ]\n    },\n    \"day2\": {\n       \"bestTimeToVisit\": \"Morning and late afternoon\",\n      \"theme\": \"Downtown Exploration & Unique Experiences\",\n      \"activities\": [\n          {\n              \"placeName\": \"Fremont Street Murals\",\n              \"placeDetails\":\"Explore vibrant murals and street art in the Arts District near Fremont Street, free to view.\",\n               \"placeImageURL\": \"https://example.com/fremont_murals.jpg\",\n              \"geoCoordinates\": {\"latitude\": 36.1636, \"longitude\": -115.1457},\n              \"ticketPricing\": \"Free\",\n               \"rating\": 4.3,\n                \"travelTime\":\"5 minutes (walking from Fremont Street)\"\n          },\n           {\n            \"placeName\": \"Gold & Silver Pawn Shop\",\n            \"placeDetails\": \"From the popular TV show Pawn Stars, free to look around.\",\n              \"placeImageURL\": \"https://example.com/gold_silver_pawn.jpg\",\n             \"geoCoordinates\": {\"latitude\": 36.1544, \"longitude\": -115.1423},\n              \"ticketPricing\": \"Free\",\n             \"rating\": 4.0,\n              \"travelTime\":\"5 minutes (driving or bus from Fremont Street)\"\n\n        },\n         {\n           \"placeName\": \"Container Park\",\n             \"placeDetails\": \"Unique shopping and entertainment space made from shipping containers, free to explore, good food options with affordable budget.\",\n              \"placeImageURL\": \"https://example.com/container_park.jpg\",\n            \"geoCoordinates\": {\"latitude\": 36.1668, \"longitude\": -115.1402},\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.2,\n              \"travelTime\": \"5 minutes walking (from Fremont Street)\"\n           },\n         {\n           \"placeName\":\"Stratosphere Observation Deck (Optional)\",\n           \"placeDetails\": \"Elevated view of the city, ticket is needed\",\n             \"placeImageURL\":\"https://example.com/stratosphere_deck.jpg\",\n           \"geoCoordinates\": {\"latitude\": 36.1526, \"longitude\": -115.1592},\n           \"ticketPricing\":\"$20-30 per person\",\n             \"rating\": 4.6,\n           \"travelTime\":\"5 minutes (driving or bus from Fremont Street)\"\n         }\n      ]\n    },\n      \"day3\": {\n         \"bestTimeToVisit\": \"Morning and Afternoon\",\n        \"theme\": \"South Strip & Relaxation\",\n        \"activities\": [\n          {\n              \"placeName\": \"M&M's World\",\n              \"placeDetails\": \"Multi-story M&M store and free attractions, great for photos.\",\n              \"placeImageURL\":\"https://example.com/mms_world.jpg\",\n              \"geoCoordinates\":{\"latitude\":36.1079,\"longitude\":-115.1707},\n              \"ticketPricing\":\"Free\",\n              \"rating\": 4.1,\n              \"travelTime\":\"20 Minutes from Fremont Street\"\n          },\n             {\n               \"placeName\":\"Coca-Cola Store\",\n                 \"placeDetails\":\"Explore Coca-Cola memorabilia, fun photo opportunities, and buy unique Coke products.\",\n                  \"placeImageURL\":\"https://example.com/coke_store.jpg\",\n                 \"geoCoordinates\":{\"latitude\": 36.1076,\"longitude\": -115.1702},\n                \"ticketPricing\":\"Free\",\n                 \"rating\": 4.2,\n                 \"travelTime\":\"Immediately adjacent to M&M's World\"\n          },\n          {\n            \"placeName\": \"Pool Time and Relaxing at Hotel\",\n             \"placeDetails\": \"Enjoy your hotel pool or sunbathe, take a break from walking.\",\n             \"placeImageURL\": \"https://example.com/pool.jpg\",\n            \"geoCoordinates\": {},\n            \"ticketPricing\": \"Free (for hotel guests)\",\n             \"rating\": 4.3,\n              \"travelTime\": \"At your hotel\"\n          },\n\n          {\n              \"placeName\": \"Mirage Volcano Show\",\n               \"placeDetails\":\"Evening show with fire and water effects in front of the Mirage hotel, free.\",\n               \"placeImageURL\": \"https://example.com/mirage_volcano.jpg\",\n               \"geoCoordinates\": {\"latitude\": 36.1226, \"longitude\": -115.1723},\n               \"ticketPricing\":\"Free\",\n               \"rating\": 4.6,\n              \"travelTime\":\"15-20 minutes from south strip by driving/bus\"\n          }\n        ]\n      }\n  }\n}\n```\n\n**Important Notes:**\n\n*   **Hotel Prices:** Prices are estimates and fluctuate. Check specific dates for accurate costs.\n*   **Image URLs:**  Replace `https://example.com/...` with actual image URLs.\n*   **Transportation:** Walking is good on the Strip but consider buses or ride-sharing for longer distances. The Deuce bus is a good budget option.\n*   **Food:** To stay on budget, look for affordable food options like fast food, grocery stores, and budget-friendly restaurants outside the main Strip.\n*   **Ticket Prices:** Prices may vary, check the attraction's website for accurate costs.\n*   **Times:**  Travel times are estimates and depend on traffic and walking speeds.\n\nThis JSON provides a structured, detailed plan. Please adjust hotel selection, activities, and timings to your preference. Have a great trip!\n" },
            ],
        },
    ],
});


